<div class="relative" id="topbar-menu-container">
    <button
        data-active="false"
        id="topbar-menu-button"
        class="p-2 rounded-md text-light-gray-primary dark:text-dark-gray-primary hover:bg-[#0001] dark:hover:bg-[#fff1] hover:text-light-texto-primary dark:hover:text-dark-texto-primary transition-colors data-[active=true]:bg-[#0001] dark:data-[active=true]:bg-[#fff1] data-[active=true]:text-light-texto-primary dark:data-[active=true]:text-dark-texto-primary"
    >
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.7"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><line x1="4" y1="12" x2="20" y2="12"></line><line
                x1="4"
                y1="6"
                x2="20"
                y2="6"></line><line x1="4" y1="18" x2="20" y2="18"></line></svg
        >
    </button>
    <ul
        data-active=""
        id="topbar-menu"
        class="hidden data-[active=true]:block absolute left-0 top-10 w-52 z-10 rounded-lg border-[1px] border-[#0001] dark:border-[#fff1] bg-[#fffa] dark:bg-[#181818bb] text-light-texto-secondary dark:text-dark-texto-secondary backdrop-blur-md overflow-hidden"
    >
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="#skills"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 16 16"
                    fill="currentColor"
                    stroke="currentColor"
                    stroke-width="0.2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path fill-rule="evenodd" d="M1.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C2.25 2 1.49 2.759 1.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6ZM14.886 7.9v.164c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456v-1.3c-1.114 0-1.49-.362-1.49-1.456V4.352C14.51 2.759 13.75 2 12.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6ZM7.5 11.5V9.207l-1.621 1.621-.707-.707L6.792 8.5H4.5v-1h2.293L5.172 5.879l.707-.707L7.5 6.792V4.5h1v2.293l1.621-1.621.707.707L9.208 7.5H11.5v1H9.207l1.621 1.621-.707.707L8.5 9.208V11.5h-1Z"/></svg
                >
                Skills</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="#jobs"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><rect x="2" y="7" width="20" height="14" rx="2" ry="2"
                    ></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"
                    ></path></svg
                >
                Experience</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="#projects"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path
                        d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"
                    ></path><path d="M17.64 15 22 10.64"></path><path
                        d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91"
                    ></path></svg
                >
                Projects</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="#education"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path
                        d="M6 12v5c3 3 9 3 12 0v-5"></path></svg
                >
                Education</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="#contact"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><line x1="7" y1="17" x2="17" y2="7"></line><polyline
                        points="7 7 17 7 17 17"></polyline></svg
                >
                Contact</a
            >
        </li>
        <span
            class="flex w-full border-b-[1px] border-[#0001] dark:border-[#fff1]"
        ></span>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="https://linkedin.com/in/dnachavez"
                target="_blank"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path
                        d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
                    ></path><rect x="2" y="9" width="4" height="12"
                    ></rect><circle cx="4" cy="4" r="2"></circle></svg
                >
                LinkedIn</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="https://github.com/dnachavez"
                target="_blank"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path
                        d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                    ></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg
                >
                GitHub</a
            >
        </li>
        <li>
            <a
                class="menu-item flex items-center py-3 px-4 text-sm hover:bg-[#0001] dark:hover:bg-[#fff1] gap-3 hover:text-light-texto-primary hover:dark:text-dark-texto-primary transition-colors"
                href="https://instagram.com/dnachavez"
                target="_blank"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><rect x="2" y="2" width="20" height="20" rx="5" ry="5"
                    ></rect><path
                        d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"
                    ></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
                Instagram
            </a>
        </li>
    </ul>
</div>
<script>
    const $menu = document.getElementById("topbar-menu");
    const $menuBtn = document.getElementById("topbar-menu-button");
    const $menuItems = document.querySelectorAll(".menu-item");
    const $topbarMenuContainer = document.getElementById(
        "topbar-menu-container"
    );

    $menuBtn.addEventListener("click", (event) => {
        let isButtonActive = $menuBtn.getAttribute("data-active");
        $menuBtn.setAttribute(
            "data-active",
            isButtonActive === "true" ? "false" : "true"
        );

        $menu.setAttribute(
            "data-active",
            isButtonActive === "true" ? "false" : "true"
        );
    });

    $menuItems.forEach((element) => {
        element.addEventListener("click", () => {
            $menuBtn.setAttribute("data-active", "false");
            $menu.setAttribute("data-active", "false");
        });
    });

    document.addEventListener("click", (event) => {
        if (!$topbarMenuContainer.contains(event.target)) {
            $menuBtn.setAttribute("data-active", "false");
            $menu.setAttribute("data-active", "false");
        }
    });
</script>
